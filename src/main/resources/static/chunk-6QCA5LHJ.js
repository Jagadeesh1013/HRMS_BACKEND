import{j as p,p as g,q as f}from"./chunk-TMKDVEF2.js";import{Ja as e,Ka as t,La as l,Qa as n,R as s,Ra as r,qa as i,za as m}from"./chunk-NZX6HTBP.js";var h=class c{http=s(g);apiUrl="http://10.47.244.9/HrmsDashboard/api/dashboard/counts";jsonSent=0;pdfSent=0;hrmsReceived=0;hrmsRejected=0;ddoReceived=0;ddoRejected=0;ngOnInit(){this.fetchDataAndRenderChart()}ngAfterViewInit(){}fetchDataAndRenderChart(){this.http.get(this.apiUrl).subscribe({next:d=>{this.jsonSent=d.jsonSent,this.pdfSent=d.pdfSent,this.hrmsReceived=d.hrmsReceived,this.hrmsRejected=d.hrmsRejected,this.ddoReceived=d.ddoReceived,this.ddoRejected=d.ddoRejected,this.renderBarChart()},error:d=>{console.error("Failed to fetch GEMS dashboard data:",d)}})}renderBarChart(){let d=document.getElementById("gemsBarChart");new window.Chart(d,{type:"bar",data:{labels:["JSON Sent","PDF Sent","HRMS Received","HRMS Rejected","DDO Received","DDO Rejected"],datasets:[{label:"GEMS Data",data:[this.jsonSent,this.pdfSent,this.hrmsReceived,this.hrmsRejected,this.ddoReceived,this.ddoRejected],backgroundColor:["#7C3AED","#0D9488","#F97316","#84CC16","#3B82F6","#EF4444"],borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}static \u0275fac=function(o){return new(o||c)};static \u0275cmp=m({type:c,selectors:[["app-gems"]],decls:40,vars:6,consts:[[1,"gems-wrapper"],[1,"gems-container"],[1,"title"],[1,"card-grid"],[1,"card","card-purple"],[1,"card","card-teal"],[1,"card","card-orange"],[1,"card","card-green"],[1,"card","card-blue"],[1,"card","card-red"],[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"card","shadow-sm","p-4"],["id","gemsBarChart","width","100%","height","40"]],template:function(o,a){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),n(3,"GEMS Dashboard"),t(),e(4,"div",3)(5,"div",4)(6,"h3"),n(7,"JSON Sent"),t(),e(8,"p"),n(9),t()(),e(10,"div",5)(11,"h3"),n(12,"PDF Sent"),t(),e(13,"p"),n(14),t()(),e(15,"div",6)(16,"h3"),n(17,"HRMS Received"),t(),e(18,"p"),n(19),t()(),e(20,"div",7)(21,"h3"),n(22,"HRMS Rejected"),t(),e(23,"p"),n(24),t()(),e(25,"div",8)(26,"h3"),n(27,"DDO Received"),t(),e(28,"p"),n(29),t()(),e(30,"div",9)(31,"h3"),n(32,"DDO Rejected"),t(),e(33,"p"),n(34),t()()()()(),e(35,"div",10)(36,"h4",11),n(37,"GEMS Dashboard Summary (Bar Chart)"),t(),e(38,"div",12),l(39,"canvas",13),t()()),o&2&&(i(9),r(a.jsonSent),i(5),r(a.pdfSent),i(5),r(a.hrmsReceived),i(5),r(a.hrmsRejected),i(5),r(a.ddoReceived),i(5),r(a.ddoRejected))},dependencies:[p,f],styles:[".gems-container[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,sans-serif}.title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#3b82f6}.card-grid[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;justify-content:center}.card[_ngcontent-%COMP%]{border-radius:12px;padding:20px 30px;box-shadow:0 4px 12px #0000001a;text-align:center;min-width:200px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#1e1e2d}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:24px;font-weight:700;color:#fff}.card-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a892ec,#8b5cf6);color:#fff}.card-teal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5eead4,#2dd4bf);color:#fff}.card-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdba74,#fb923c);color:#fff}.card-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#86efac,#4ade80);color:#fff}.card-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#93c5fd,#3b82f6);color:#fff}.card-red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fca5a5,#ef4444);color:#fff}canvas[_ngcontent-%COMP%]{max-width:50%;padding:50px}"]})};export{h as GemsComponent};
